(()=>{var e={183:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},530:(e,t)=>{var s;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var s=arguments[t];s&&(e=d(e,r(s)))}return e}function r(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var s in e)n.call(e,s)&&e[s]&&(t=d(t,s));return t}function d(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(s=function(){return a}.apply(t,[]))||(e.exports=s)}()},598:(e,t,s)=>{e.exports=s(856)()},856:(e,t,s)=>{"use strict";var n=s(183);function a(){}function r(){}r.resetWarningCache=a,e.exports=function(){function e(e,t,s,a,r,d){if(d!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:a};return s.PropTypes=s,s}}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.domReady;var t=s.n(e);const n=window.wp.element;var a=s(598),r=s.n(a);const d={isRtl:!1},i=(0,n.createContext)(d),o=({children:e,context:t={},...s})=>(0,n.createElement)(i.Provider,{value:{...d,...t}},(0,n.createElement)("div",{className:"nfd-root",...s},e));o.propTypes={children:r().node.isRequired,context:r().shape({isRtl:r().bool})};const l=o;var c=s(530),p=s.n(c);const f=(0,n.forwardRef)((({as:e="div",children:t,className:s="",...a},r)=>(0,n.createElement)(e,{...a,className:p()("nfd-page",s),ref:r},t)));f.propTypes={as:a.PropTypes.element,children:a.PropTypes.node.isRequired,className:a.PropTypes.string};const u=f,m=window.wp.i18n,x=window.lodash,h={variant:{default:"",primary:"nfd-text-primary-500",white:"nfd-text-white"},size:{3:"nfd-w-3 nfd-h-3",4:"nfd-w-4 nfd-h-4",8:"nfd-w-8 nfd-h-8"}},w=(0,n.forwardRef)((({variant:e,size:t,className:s},a)=>{const r=((e=null)=>(0,n.useMemo)((()=>{const t={role:"img","aria-hidden":"true"};return null!==e&&(t.focusable=e?"true":"false"),t}),[e]))();return(0,n.createElement)("svg",{ref:a,xmlns:"http://www.w3.org/2000/svg/",fill:"none",viewBox:"0 0 24 24",className:p()("nfd-animate-spin",h.variant[e],h.size[t],s),...r},(0,n.createElement)("circle",{className:"nfd-opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.createElement)("path",{className:"nfd-opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}))})),k={variant:r().oneOf((0,x.keys)(h.variant)),size:r().oneOf((0,x.keys)(h.size)),className:r().string};w.propTypes=k,w.defaultProps={variant:"default",size:"4",className:""};const v=e=>(0,n.createElement)(w,{...e});v.propTypes=k,v.defaultProps=w.defaultProps,v.displayName="Spinner";const g=w,b={variant:{primary:"nfd-button--primary",secondary:"nfd-button--secondary",error:"nfd-button--error",upsell:"nfd-button--upsell"},size:{default:"",small:"nfd-button--small",large:"nfd-button--large"}},j=(0,n.forwardRef)((({children:e,as:t,type:s,variant:a,size:r,isLoading:d,disabled:i,className:o,...l},c)=>(0,n.createElement)(t,{type:s||"button"===t&&"button"||void 0,disabled:i,ref:c,className:p()("nfd-button",b.variant[a],b.size[r],d&&"nfd-cursor-wait",i&&"nfd-button--disabled",o),...l},d&&(0,n.createElement)(g,{size:"small"===r?"3":"4",className:"nfd-mr-2"}),e))),y={children:r().node.isRequired,as:r().elementType,type:r().oneOf(["button","submit","reset"]),variant:r().oneOf((0,x.keys)(b.variant)),size:r().oneOf((0,x.keys)(b.size)),isLoading:r().bool,disabled:r().bool,className:r().string};j.propTypes=y,j.defaultProps={as:"button",type:void 0,variant:"primary",size:"default",isLoading:!1,disabled:!1,className:""};const N=j,_=e=>(0,n.createElement)(j,{...e});_.propTypes=y,_.defaultProps=j.defaultProps,_.displayName="Button";const C=window.React;function E({title:e,titleId:t,...s},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const R=C.forwardRef(E);function O({title:e,titleId:t,...s},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const z=C.forwardRef(O);function T({title:e,titleId:t,...s},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const L=C.forwardRef(T);function M({title:e,titleId:t,...s},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const P=C.forwardRef(M);function U({title:e,titleId:t,...s},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const I=C.forwardRef(U);function S({title:e,titleId:t,...s},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const B=C.forwardRef(S);function W({title:e,titleId:t,...s},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const A=C.forwardRef(W);function D({title:e,titleId:t,...s},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?C.createElement("title",{id:t},e):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const H=C.forwardRef(D);function V({title:e,titleId:t,...s},n){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?C.createElement("title",{id:t},e):null,C.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Z=C.forwardRef(V),q=window.ReactJSXRuntime,F=(0,q.jsx)(R,{className:"size-6"}),$=(0,q.jsx)(z,{className:"size-6"}),J=(0,q.jsx)(L,{className:"size-6"}),X=(0,q.jsx)(P,{className:"size-6"}),Y=(0,q.jsx)(I,{className:"size-6"}),G=(0,q.jsx)(Z,{className:"size-6"}),K=(0,q.jsx)(B,{className:"size-6"}),Q=(0,q.jsx)(A,{className:"size-6"}),ee=(0,q.jsx)(H,{className:"size-6"}),te=(0,q.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",fill:"none",className:"size-6",children:(0,q.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.716 3.165a9 9 0 0 1 3.315 1.373m2.43 2.429a9 9 0 0 1 1.374 3.316m0 3.434a9 9 0 0 1-1.373 3.315m-2.43 2.43a9 9 0 0 1-3.316 1.373m-3.432 0a9 9 0 0 1-3.316-1.373m-2.43-2.43a9 9 0 0 1-1.373-3.315m0-3.434a9 9 0 0 1 1.373-3.315m2.43-2.43a9 9 0 0 1 3.316-1.373"})}),se=(0,q.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",fill:"none",className:"size-6",children:(0,q.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"})}),ne=(0,q.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg/",fill:"none",viewBox:"0 0 24 24",class:"next-steps-spinner nfd-animate-spin nfd-w-8 nfd-h-8",role:"img","aria-hidden":"true",children:[(0,q.jsx)("circle",{class:"nfd-opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),(0,q.jsx)("path",{class:"nfd-opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),ae={size:{1:"nfd-title--1",2:"nfd-title--2",3:"nfd-title--3",4:"nfd-title--4",5:"nfd-title--5"}},re=(0,n.forwardRef)((({children:e,as:t,size:s,className:a,...r},d)=>(0,n.createElement)(t,{ref:d,className:p()("nfd-title",ae.size[s||t[1]],a),...r},e))),de={children:r().node.isRequired,as:r().elementType,size:r().oneOf(Object.keys(ae.size)),className:r().string};re.propTypes=de,re.defaultProps={as:"h1",size:void 0,className:""};const ie=e=>(0,n.createElement)(re,{...e});ie.propTypes=de,ie.defaultProps=re.defaultProps,ie.displayName="Title";const oe=re,le=(0,n.memo)((({completed:e,total:t})=>{const s=t?Math.round(e/t*100):0;return(0,q.jsxs)("div",{className:`nfd-progress-bar nfd-progress-bar-${s}`,children:[(0,q.jsx)("div",{className:"nfd-progress-bar-inner","data-percent":s,style:{width:`${s}%`}}),(0,q.jsxs)("span",{className:"nfd-progress-bar-label",children:[e,"/",t]})]})})),ce=(0,n.memo)((e=>{const{index:t,sectionId:s,showDismissed:a,task:r,taskUpdateCallback:d,trackId:i}=e,{id:o,title:l="",href:c,data_attributes:p={}}=r,[f,u]=(0,n.useState)(r.status);(0,n.useEffect)((()=>{u(r.status)}),[r.status]);const x=e=>{const t=f;u(e),d(i,s,o,e,(e=>{console.error("Error updating task status. Please, try reloading the page to load the latest data."),u(t)}),(t=>{u(e)}))},h=()=>{let e=c;return e.includes("{siteUrl}")&&(e=c.replace("{siteUrl}",window.NewfoldRuntime.siteUrl)),window.NewfoldRuntime?.linkTracker?.addUtmParams(e)||e},w=()=>c.includes("{siteUrl}")||c.includes(window.NewfoldRuntime.siteUrl)?"":"_blank",k={...(()=>{const e={"data-nfd-task-index":t,"data-nfd-task-id":o};return Object.entries(p).forEach((([t,s])=>{const n=t.startsWith("data-")?t:`data-${t}`;e[n]="boolean"==typeof s?s?"true":"false":s})),e})()},v=(e=!1,t="")=>(0,q.jsxs)("div",{className:"nfd-nextsteps-step-content nfd-flex nfd-flex-col nfd-justify-between",children:[e&&(0,q.jsx)("a",{href:e,target:t,children:(0,q.jsx)(oe,{as:"span",className:"nfd-nextsteps-step-title nfd-font-normal",children:l})}),!e&&(0,q.jsx)(oe,{as:"span",className:"nfd-nextsteps-step-title nfd-font-normal",children:l})]});return(0,q.jsxs)(q.Fragment,{children:["new"===f&&(0,q.jsx)("div",{className:"nfd-nextsteps-step-container",id:o,...k,children:(0,q.jsxs)("div",{className:"nfd-nextsteps-step nfd-nextsteps-step-new nfd-flex nfd-flex-row nfd-justify-start nfd-items-center nfd-gap-4",children:[(0,q.jsx)("div",{className:"nfd-nextsteps-buttons nfd-flex nfd-flex-row nfd-gap-2 nfd-justify-end",children:(0,q.jsx)("button",{className:"nfd-nextsteps-button nfd-nextsteps-button-todo","data-nfd-click":"nextsteps_step_check","data-nfd-event-category":"nextsteps_step","data-nfd-event-key":o,onClick:e=>x("done"),title:(0,m.__)("Mark Complete","wp-module-next-steps"),children:se})}),v(h(),w()),(0,q.jsxs)("div",{className:"nfd-nextsteps-buttons nfd-flex nfd-flex-row nfd-gap-4 nfd-justify-end nfd-ml-auto",children:[(0,q.jsx)("button",{className:"nfd-nextsteps-button nfd-nextsteps-button-dismiss","data-nfd-click":"nextsteps_step_dismiss","data-nfd-event-category":"nextsteps_step","data-nfd-event-key":o,onClick:e=>x("dismissed"),title:(0,m.__)("Skip","wp-module-next-steps"),children:X}),(0,q.jsx)("a",{className:"nfd-nextsteps-button nfd-nextsteps-button-link","data-nfd-click":"nextsteps_step_link","data-nfd-event-category":"nextsteps_step","data-nfd-event-key":o,href:h(),target:w(),title:l,children:K})]})]})}),"done"===f&&(0,q.jsx)("div",{className:"nfd-nextsteps-step-container",id:o,...k,children:(0,q.jsxs)("div",{className:"nfd-nextsteps-step nfd-nextsteps-step-done nfd-flex nfd-flex-row nfd-justify-start nfd-items-center nfd-gap-4",children:[(0,q.jsx)("div",{className:"nfd-nextsteps-buttons nfd-flex nfd-flex-row nfd-gap-2 nfd-justify-end",children:(0,q.jsx)("button",{className:"nfd-nextsteps-button nfd-nextsteps-button-redo","data-nfd-click":"nextsteps_step_redo","data-nfd-event-category":"nextsteps_step","data-nfd-event-key":o,onClick:e=>x("new"),title:(0,m.__)("Restart","wp-module-next-steps"),children:G})}),v(h(),w())]})}),"dismissed"===f&&a&&(0,q.jsx)("div",{className:"nfd-nextsteps-step-container",id:o,...k,children:(0,q.jsxs)("div",{className:"nfd-nextsteps-step nfd-nextsteps-step-dismissed nfd-flex nfd-flex-row nfd-justify-start nfd-items-center nfd-gap-4",children:[(0,q.jsx)("div",{className:"nfd-nextsteps-buttons nfd-flex nfd-flex-row nfd-gap-2 nfd-justify-end",children:(0,q.jsx)("button",{className:"nfd-nextsteps-button nfd-nextsteps-button-redo","data-nfd-click":"nextsteps_step_redo","data-nfd-event-category":"nextsteps_step","data-nfd-event-key":o,onClick:e=>x("new"),title:(0,m.__)("Unskip","wp-module-next-steps"),children:te})}),v(h(),w()),(0,q.jsx)("div",{className:"nfd-nextsteps-buttons nfd-flex nfd-flex-row nfd-gap-4 nfd-justify-end nfd-ml-auto",children:(0,q.jsx)("button",{className:"nfd-nextsteps-button nfd-nextsteps-button-dismiss","data-nfd-click":"nextsteps_step_dismiss","data-nfd-event-category":"nextsteps_step","data-nfd-event-key":o,onClick:e=>x("new"),title:(0,m.__)("Unskip","wp-module-next-steps"),children:Y})})]})})]})})),pe=(0,n.memo)((e=>{const{index:t,section:s,sectionOpenCallback:a,showDismissed:r,taskUpdateCallback:d,trackId:i}=e,{totalCount:o,completedCount:l,isComplete:c}=s.progress||{totalCount:0,completedCount:0,isComplete:!1},[p,f]=(0,n.useState)(!1),u=s.open,x=(0,n.useRef)(null),h=(0,n.useRef)(!1);return(0,n.useEffect)((()=>{x.current&&(x.current.open=u),setTimeout((()=>{h.current=!0}),0)}),[]),(0,n.useEffect)((()=>{if(c&&o>0){const e=setTimeout((()=>{f(!0)}),150);return()=>clearTimeout(e)}}),[c,o]),(o>0||!0===r)&&(0,q.jsxs)("details",{className:"nfd-section","data-nfd-section-id":s.id,"data-nfd-section-index":t,onToggle:e=>{if(e.stopPropagation(),!h.current)return;const t=e.target.open;a(i,s.id,t)},ref:x,children:[(0,q.jsxs)("summary",{className:"nfd-section-header",children:[(0,q.jsxs)(oe,{className:"nfd-section-title mb-0",as:"h3",children:[(0,q.jsxs)("span",{className:"nfd-section-header-icon nfd-header-icon",children:[(0,q.jsx)("span",{className:"nfd-section-header-icon-closed",children:$}),(0,q.jsx)("span",{className:"nfd-section-header-icon-opened",children:J})]}),s.label]}),o>0&&(0,q.jsx)(le,{completed:l,total:o})]}),(0,q.jsx)("div",{className:"nfd-section-steps",children:s.tasks.map(((e,t)=>(0,q.jsx)(ce,{index:t,sectionId:s.id,showDismissed:r,task:e,taskUpdateCallback:d,trackId:i},e.id)))}),(0,q.jsxs)("div",{className:"nfd-section-complete","data-complete":c,"data-show-celebration":p,onClick:e=>{f(!1),x.current&&(x.current.open=!1)},children:[(0,q.jsx)("button",{className:"nfd-nextsteps-section-close-button",title:(0,m.__)("Close","wp-module-next-steps"),children:ee}),(0,q.jsx)("div",{className:"nfd-section-celebrate",children:Q}),(0,q.jsx)("p",{className:"nfd-section-celebrate-text",children:(0,m.__)("All complete!","wp-module-next-steps")})]})]})})),fe=(0,n.memo)((e=>{const{index:t,track:s,sectionOpenCallback:a,showDismissed:r,taskUpdateCallback:d,trackOpenCallback:i}=e,o=s.open,l=(0,n.useRef)(null),c=(0,n.useRef)(!1);return(0,n.useEffect)((()=>{l.current&&(l.current.open=o),setTimeout((()=>{c.current=!0}),0)}),[]),(0,q.jsxs)("details",{ref:l,className:"nfd-track",onToggle:e=>{if(!c.current)return;const t=e.target.open;i(s.id,t)},"data-nfd-track-id":s.id,"data-nfd-track-index":t,children:[(0,q.jsxs)("summary",{className:"nfd-track-header",children:[(0,q.jsx)(oe,{className:"nfd-track-title mb-0",as:"h2",children:s.label}),(0,q.jsx)("span",{className:"nfd-track-header-icon nfd-header-icon",children:F})]}),(0,q.jsx)("div",{className:"nfd-track-sections",children:s.sections.map(((e,t)=>(0,q.jsx)(pe,{index:t,section:e,sectionOpenCallback:a,showDismissed:r,taskUpdateCallback:d,trackId:s.id},e.id)))})]})})),ue=window.wp.apiFetch;var me=s.n(ue);const xe=(e,t)=>e.includes("?")?e+encodeURIComponent(t):e+t,he=()=>{const[e,t]=(0,n.useState)(window.NewfoldNextSteps),[s,a]=(0,n.useState)(!0),[r,d]=(0,n.useState)(!1),i=(0,n.useMemo)((()=>e?(e=>({...e,tracks:e.tracks.map((e=>({...e,sections:e.sections.map((e=>{const t=e.tasks.filter((e=>"dismissed"!==e.status)).length,s=e.tasks.filter((e=>"done"===e.status)).length;return{...e,progress:{totalCount:t,completedCount:s,isComplete:t>0&&s===t,percentage:t>0?Math.round(s/t*100):0}}}))})))}))(e):null),[e]),o=(s,n,a,r,d,i)=>{var o;o={plan_id:e.id,track_id:s,section_id:n,task_id:a,status:r},me()({url:xe(window.NewfoldRuntime.restUrl,"newfold-next-steps/v1/steps/status"),method:"PUT",data:o}).then((e=>{(e=>{t((e=>((e,t,s,n,a)=>({...e,tracks:e.tracks.map((e=>e.id===t?{...e,sections:e.sections.map((e=>e.id===s?{...e,tasks:e.tasks.map((e=>e.id===n?{...e,status:a}:e))}:e))}:e))}))(e,s,n,a,r))),i(e)})(e)})).catch((e=>{(e=>{d(e)})(e)}))},l=(s,n,a)=>{var r;s&&n&&(r={plan_id:e.id,track_id:s,section_id:n,open:a},me()({url:xe(window.NewfoldRuntime.restUrl,"newfold-next-steps/v1/steps/section/open"),method:"PUT",data:r}).then((e=>{t((e=>((e,t,s,n)=>({...e,tracks:e.tracks.map((e=>e.id===t?{...e,sections:e.sections.map((e=>e.id===s?{...e,open:n}:e))}:e))}))(e,s,n,a)))})).catch((e=>{})))},c=(s,n)=>{var a;a={plan_id:e.id,track_id:s,open:n},me()({url:xe(window.NewfoldRuntime.restUrl,"newfold-next-steps/v1/steps/track/open"),method:"PUT",data:a}).then((e=>{t((e=>((e,t,s)=>({...e,tracks:e.tracks.map((e=>e.id===t?{...e,open:s}:e))}))(e,s,n)))})).catch((e=>{}))};return i&&i.tracks?(0,q.jsxs)("div",{className:"nfd-nextsteps","data-nfd-plan-id":i.id,id:"nfd-nextsteps",children:[(0,q.jsx)("p",{className:"nfd-pb-4",children:i.description}),i.tracks.map(((e,t)=>(0,q.jsx)(fe,{index:t,sectionOpenCallback:l,showDismissed:s,taskUpdateCallback:o,track:e,trackOpenCallback:c},e.id))),r&&(0,q.jsx)("div",{className:"nfd-nextsteps-filters nfd-flex nfd-flex-row nfd-gap-2 nfd-justify-center",children:(0,q.jsxs)(N,{className:"nfd-nextsteps-filter-button","data-nfd-click":"nextsteps_step_toggle","data-nfd-event-category":"nextsteps_toggle","data-nfd-event-key":"toggle",onClick:()=>{a(!s)},variant:"secondary",children:[X,s?(0,m.__)("Hide skipped tasks","wp-module-next-steps"):(0,m.__)("View skipped tasks","wp-module-next-steps")]})})]}):(0,q.jsxs)("div",{className:"nfd-nextsteps",id:"nfd-nextsteps",children:[ne,(0,q.jsx)("p",{children:(0,m.__)("Loading next steps...","wp-module-next-steps")})]})},we=()=>{const e=p()("nfd-next-steps-app-container");return(0,q.jsx)(u,{className:e,children:(0,q.jsx)(he,{})})},ke=()=>(0,q.jsx)(l,{children:(0,q.jsx)(we,{})});t()((()=>{const e=document.getElementById("nfd-next-steps-app");null!==e&&void 0!==n.createRoot&&(0,n.createRoot)(e).render((0,q.jsx)(ke,{}))}))})()})();