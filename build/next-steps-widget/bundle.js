(()=>{var e={556:(e,t,s)=>{e.exports=s(694)()},694:(e,t,s)=>{"use strict";var n=s(925);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,s,r,a,d){if(d!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return s.PropTypes=s,s}},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},942:(e,t)=>{var s;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var s=arguments[t];s&&(e=d(e,a(s)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var s in e)n.call(e,s)&&e[s]&&(t=d(t,s));return t}function d(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(s=function(){return r}.apply(t,[]))||(e.exports=s)}()}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,s),a.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.domReady;var t=s.n(e);const n=window.wp.element;var r=s(556),a=s.n(r);const d={isRtl:!1},i=(0,n.createContext)(d),o=({children:e,context:t={},...s})=>(0,n.createElement)(i.Provider,{value:{...d,...t}},(0,n.createElement)("div",{className:"nfd-root",...s},e));o.propTypes={children:a().node.isRequired,context:a().shape({isRtl:a().bool})};const l=o;var c=s(942),p=s.n(c);const f=(0,n.forwardRef)((({as:e="div",children:t,className:s="",...r},a)=>(0,n.createElement)(e,{...r,className:p()("nfd-page",s),ref:a},t)));f.propTypes={as:r.PropTypes.element,children:r.PropTypes.node.isRequired,className:r.PropTypes.string};const x=f,u=window.wp.i18n,m=window.wp.apiFetch;var h=s.n(m);const w=window.ReactJSXRuntime,j=({completed:e,total:t})=>{const s=t?e/t*100:0;return(0,w.jsxs)("div",{className:"nfd-progress-bar",children:[(0,w.jsx)("div",{className:"nfd-progress-bar-inner",style:{width:`${s}%`}}),(0,w.jsxs)("span",{className:"nfd-progress-bar-label",children:[e,"/",t]})]})},k=(0,w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})}),v=(0,w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),g=(0,w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),y=(0,w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})}),N=(0,w.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:[(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),b=(0,w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6",children:(0,w.jsx)("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"})}),_=(0,w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 stroke-current",fill:"none",viewBox:"0 0 24 24",children:(0,w.jsx)("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"2",stroke:"currentColor"})}),C=(0,w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"9",viewBox:"0 0 21 9",fill:"none",children:(0,w.jsx)("path",{d:"M15.755 1L19.6379 4.73421M19.6379 4.73421L15.755 8.46842M19.6379 4.73421H1",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),R={size:{1:"nfd-title--1",2:"nfd-title--2",3:"nfd-title--3",4:"nfd-title--4",5:"nfd-title--5"}},L=(0,n.forwardRef)((({children:e,as:t,size:s,className:r,...a},d)=>(0,n.createElement)(t,{ref:d,className:p()("nfd-title",R.size[s||t[1]],r),...a},e))),T={children:a().node.isRequired,as:a().elementType,size:a().oneOf(Object.keys(R.size)),className:a().string};L.propTypes=T,L.defaultProps={as:"h1",size:void 0,className:""};const O=e=>(0,n.createElement)(L,{...e});O.propTypes=T,O.defaultProps=L.defaultProps,O.displayName="Title";const P=L,S=({id:e,description:t="",title:s="",status:n,href:r,taskUpdateCallback:a,track:d,section:i})=>{const o=()=>r.includes("{siteUrl}")?r.replace("{siteUrl}",window.NewfoldRuntime.siteUrl):r,l=()=>r.includes("{siteUrl}")||r.includes(window.NewfoldRuntime.siteUrl)?"":"_blank",c=(e=!1,t="")=>(0,w.jsxs)("div",{className:"nfd-nextsteps-step-content nfd-flex nfd-flex-col nfd-justify-between",children:[e&&(0,w.jsx)("a",{href:e,target:t,children:(0,w.jsx)(P,{as:"span",className:"nfd-nextsteps-step-title",children:s})}),!e&&(0,w.jsx)(P,{as:"span",className:"nfd-nextsteps-step-title",children:s})]});return(0,w.jsxs)(w.Fragment,{children:["new"===n&&(0,w.jsx)("div",{className:"nfd-nextsteps-step-container",id:e,children:(0,w.jsxs)("div",{className:"nfd-nextsteps-step nfd-nextsteps-step-new nfd-flex nfd-flex-row nfd-justify-start nfd-items-center nfd-gap-4",children:[(0,w.jsx)("div",{className:"nfd-nextsteps-buttons nfd-flex nfd-flex-row nfd-gap-2 nfd-justify-end",children:(0,w.jsx)("button",{className:"nfd-nextsteps-button nfd-nextsteps-button-todo","data-nfd-click":"nextsteps_step_check","data-nfd-event-category":"nextsteps_step","data-nfd-event-key":e,onClick:t=>a(d,i,e,"done"),title:(0,u.__)("Mark Complete","wp-module-next-steps"),children:_})}),c(o(),l()),(0,w.jsxs)("div",{className:"nfd-nextsteps-buttons nfd-flex nfd-flex-row nfd-gap-2 nfd-justify-end nfd-ml-auto",children:[(0,w.jsx)("button",{className:"nfd-nextsteps-button nfd-nextsteps-button-dismiss","data-nfd-click":"nextsteps_step_dismiss","data-nfd-event-category":"nextsteps_step","data-nfd-event-key":e,onClick:t=>a(d,i,e,"dismissed"),title:(0,u.__)("Skip","wp-module-next-steps"),children:y}),(0,w.jsx)("a",{className:"nfd-nextsteps-button nfd-nextsteps-button-link","data-nfd-click":"nextsteps_step_link","data-nfd-event-category":"nextsteps_step","data-nfd-event-key":e,href:o(),target:l(),title:s,children:C})]})]})}),"done"===n&&(0,w.jsx)("div",{className:"nfd-nextsteps-step-container",id:e,children:(0,w.jsxs)("div",{className:"nfd-nextsteps-step nfd-nextsteps-step-done nfd-flex nfd-flex-row nfd-justify-start nfd-items-center nfd-gap-4",children:[(0,w.jsx)("div",{className:"nfd-nextsteps-buttons nfd-flex nfd-flex-row nfd-gap-2 nfd-justify-end",children:(0,w.jsx)("button",{className:"nfd-nextsteps-button nfd-nextsteps-button-redo","data-nfd-click":"nextsteps_step_redo","data-nfd-event-category":"nextsteps_step","data-nfd-event-key":e,onClick:t=>a(d,i,e,"new"),title:(0,u.__)("Restart","wp-module-next-steps"),children:b})}),c()]})}),"dismissed"===n&&(0,w.jsx)("div",{className:"nfd-nextsteps-step-container",id:e,children:(0,w.jsxs)("div",{className:"nfd-nextsteps-step nfd-nextsteps-step-dismissed nfd-flex nfd-flex-row nfd-justify-start nfd-items-center nfd-gap-4",children:[(0,w.jsx)("div",{className:"nfd-nextsteps-buttons nfd-flex nfd-flex-row nfd-gap-2 nfd-justify-end",children:(0,w.jsx)("button",{className:"nfd-nextsteps-button nfd-nextsteps-button-redo","data-nfd-click":"nextsteps_step_redo","data-nfd-event-category":"nextsteps_step","data-nfd-event-key":e,onClick:t=>a(d,i,e,"new"),title:(0,u.__)("Unskip","wp-module-next-steps"),children:b})}),c(),(0,w.jsx)("div",{className:"nfd-nextsteps-buttons nfd-flex nfd-flex-row nfd-gap-2 nfd-justify-end nfd-ml-auto",children:(0,w.jsx)("button",{className:"nfd-nextsteps-button nfd-nextsteps-button-dismiss","data-nfd-click":"nextsteps_step_dismiss","data-nfd-event-category":"nextsteps_step","data-nfd-event-key":e,onClick:t=>a(d,i,e,"new"),title:(0,u.__)("Unskip","wp-module-next-steps"),children:N})})]})})]})},U=({section:e,index:t,taskUpdateCallback:s,track:r})=>{const[a,d]=(0,n.useState)(!0),i=e.tasks.filter((e=>"done"===e.status)).length,o=e.tasks.length;return(0,w.jsxs)("details",{className:"nfd-section",children:[(0,w.jsxs)("summary",{className:"nfd-section-header",children:[(0,w.jsxs)("h3",{className:"mb-0",children:[(0,w.jsxs)("span",{className:"nfd-section-header-icon",children:[(0,w.jsx)("span",{className:"nfd-section-header-icon-closed",children:v}),(0,w.jsx)("span",{className:"nfd-section-header-icon-opened",children:g})]}),e.label]}),(0,w.jsx)(j,{completed:i,total:o})]}),(0,w.jsx)("div",{className:"nfd-section-steps",children:e.tasks.map((t=>(0,w.jsx)(S,{taskUpdateCallback:s,description:t.description,href:t.href,id:t.id,title:t.title,track:r,section:e.id,status:t.status,step:t},t.id)))})]})},M=({track:e,index:t,taskUpdateCallback:s})=>{const n=0===t;return(0,w.jsxs)("details",{className:"nfd-track",open:n,children:[(0,w.jsxs)("summary",{className:"nfd-track-header",children:[(0,w.jsx)("h2",{children:e.label}),(0,w.jsx)("span",{className:"nfd-track-header-icon",children:k})]}),(0,w.jsx)("div",{className:"nfd-track-sections",children:e.sections.map(((t,n)=>(0,w.jsx)(U,{taskUpdateCallback:s,index:n,section:t,track:e.id},t.id)))})]})},z=()=>{const[e,t]=(0,n.useState)(window.NewfoldNextSteps.plan),s=(s,n,r,a)=>{var d;d={plan:e.id,track:s,section:n,task:r,status:a},h()({url:window.NewfoldRuntime.restUrl+"newfold-next-steps/v1/steps/status",method:"POST",data:d}).then((e=>{console.log("Response from taskUpdateWrapper:",e),(e=>{window.NewfoldNextSteps=e,t(e.plan)})(e)})).catch((e=>{(e=>{console.error("Error updating step:",e)})(e)}))};return(0,w.jsxs)("div",{className:"nfd-nextsteps",id:"nfd-nextsteps",children:[(0,w.jsx)("p",{className:"nfd-pb-4",children:e.description}),e.tracks.map(((e,t)=>(0,w.jsx)(M,{track:e,index:t,taskUpdateCallback:s},e.id)))]})},E=()=>{const e=p()("nfd-next-steps-app-container");return(0,w.jsx)(x,{className:e,children:(0,w.jsx)(z,{})})},B=()=>(0,w.jsx)(l,{children:(0,w.jsx)(E,{})});t()((()=>{const e=document.getElementById("nfd-next-steps-app");null!==e&&void 0!==n.createRoot&&(0,n.createRoot)(e).render((0,w.jsx)(B,{}))}))})()})();