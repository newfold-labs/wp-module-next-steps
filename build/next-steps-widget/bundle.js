(()=>{var e={556:(e,s,t)=>{e.exports=t(694)()},694:(e,s,t)=>{"use strict";var n=t(925);function a(){}function r(){}r.resetWarningCache=a,e.exports=function(){function e(e,s,t,a,r,d){if(d!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function s(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:s,element:e,elementType:e,instanceOf:s,node:e,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:a};return t.PropTypes=t,t}},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},942:(e,s)=>{var t;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e="",s=0;s<arguments.length;s++){var t=arguments[s];t&&(e=d(e,r(t)))}return e}function r(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var s="";for(var t in e)n.call(e,t)&&e[t]&&(s=d(s,t));return s}function d(e,s){return s?e?e+" "+s:e+s:e}e.exports?(a.default=a,e.exports=a):void 0===(t=function(){return a}.apply(s,[]))||(e.exports=t)}()}},s={};function t(n){var a=s[n];if(void 0!==a)return a.exports;var r=s[n]={exports:{}};return e[n](r,r.exports,t),r.exports}t.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return t.d(s,{a:s}),s},t.d=(e,s)=>{for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})},t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{"use strict";const e=window.wp.domReady;var s=t.n(e);const n=window.wp.element;var a=t(556),r=t.n(a);const d={isRtl:!1},i=(0,n.createContext)(d),o=({children:e,context:s={},...t})=>(0,n.createElement)(i.Provider,{value:{...d,...s}},(0,n.createElement)("div",{className:"nfd-root",...t},e));o.propTypes={children:r().node.isRequired,context:r().shape({isRtl:r().bool})};const l=o;var c=t(942),p=t.n(c);const f=(0,n.forwardRef)((({as:e="div",children:s,className:t="",...a},r)=>(0,n.createElement)(e,{...a,className:p()("nfd-page",t),ref:r},s)));f.propTypes={as:a.PropTypes.element,children:a.PropTypes.node.isRequired,className:a.PropTypes.string};const x=f,u=window.lodash,m={variant:{default:"",primary:"nfd-text-primary-500",white:"nfd-text-white"},size:{3:"nfd-w-3 nfd-h-3",4:"nfd-w-4 nfd-h-4",8:"nfd-w-8 nfd-h-8"}},h=(0,n.forwardRef)((({variant:e,size:s,className:t},a)=>{const r=((e=null)=>(0,n.useMemo)((()=>{const s={role:"img","aria-hidden":"true"};return null!==e&&(s.focusable=e?"true":"false"),s}),[e]))();return(0,n.createElement)("svg",{ref:a,xmlns:"http://www.w3.org/2000/svg/",fill:"none",viewBox:"0 0 24 24",className:p()("nfd-animate-spin",m.variant[e],m.size[s],t),...r},(0,n.createElement)("circle",{className:"nfd-opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.createElement)("path",{className:"nfd-opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}))})),w={variant:r().oneOf((0,u.keys)(m.variant)),size:r().oneOf((0,u.keys)(m.size)),className:r().string};h.propTypes=w,h.defaultProps={variant:"default",size:"4",className:""};const v=e=>(0,n.createElement)(h,{...e});v.propTypes=w,v.defaultProps=h.defaultProps,v.displayName="Spinner";const k=h,y={variant:{primary:"nfd-button--primary",secondary:"nfd-button--secondary",error:"nfd-button--error",upsell:"nfd-button--upsell"},size:{default:"",small:"nfd-button--small",large:"nfd-button--large"}},j=(0,n.forwardRef)((({children:e,as:s,type:t,variant:a,size:r,isLoading:d,disabled:i,className:o,...l},c)=>(0,n.createElement)(s,{type:t||"button"===s&&"button"||void 0,disabled:i,ref:c,className:p()("nfd-button",y.variant[a],y.size[r],d&&"nfd-cursor-wait",i&&"nfd-button--disabled",o),...l},d&&(0,n.createElement)(k,{size:"small"===r?"3":"4",className:"nfd-mr-2"}),e))),g={children:r().node.isRequired,as:r().elementType,type:r().oneOf(["button","submit","reset"]),variant:r().oneOf((0,u.keys)(y.variant)),size:r().oneOf((0,u.keys)(y.size)),isLoading:r().bool,disabled:r().bool,className:r().string};j.propTypes=g,j.defaultProps={as:"button",type:void 0,variant:"primary",size:"default",isLoading:!1,disabled:!1,className:""};const b=j,N=e=>(0,n.createElement)(j,{...e});N.propTypes=g,N.defaultProps=j.defaultProps,N.displayName="Button";const _=window.wp.i18n,C=window.wp.apiFetch;var z=t.n(C);const R=window.ReactJSXRuntime,T=(0,R.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:(0,R.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})}),L=(0,R.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:(0,R.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),P=(0,R.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:(0,R.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),O=(0,R.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:(0,R.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})}),E=(0,R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:[(0,R.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),(0,R.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),S=(0,R.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6",children:(0,R.jsx)("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"})}),M=(0,R.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 stroke-current",fill:"none",viewBox:"0 0 24 24",children:(0,R.jsx)("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"2",stroke:"currentColor"})}),U=(0,R.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"9",viewBox:"0 0 21 9",fill:"none",children:(0,R.jsx)("path",{d:"M15.755 1L19.6379 4.73421M19.6379 4.73421L15.755 8.46842M19.6379 4.73421H1",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),B=(0,R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg/",fill:"none",viewBox:"0 0 24 24",class:"next-steps-spinner nfd-animate-spin nfd-w-8 nfd-h-8",role:"img","aria-hidden":"true",children:[(0,R.jsx)("circle",{class:"nfd-opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),(0,R.jsx)("path",{class:"nfd-opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),W={size:{1:"nfd-title--1",2:"nfd-title--2",3:"nfd-title--3",4:"nfd-title--4",5:"nfd-title--5"}},D=(0,n.forwardRef)((({children:e,as:s,size:t,className:a,...r},d)=>(0,n.createElement)(s,{ref:d,className:p()("nfd-title",W.size[t||s[1]],a),...r},e))),A={children:r().node.isRequired,as:r().elementType,size:r().oneOf(Object.keys(W.size)),className:r().string};D.propTypes=A,D.defaultProps={as:"h1",size:void 0,className:""};const H=e=>(0,n.createElement)(D,{...e});H.propTypes=A,H.defaultProps=D.defaultProps,H.displayName="Title";const Z=D,q=({completed:e,total:s})=>{const t=s?Math.round(e/s*100):0;return(0,R.jsxs)("div",{className:`nfd-progress-bar nfd-progress-bar-${t}`,children:[(0,R.jsx)("div",{className:"nfd-progress-bar-inner","data-percent":t,style:{width:`${t}%`}}),(0,R.jsxs)("span",{className:"nfd-progress-bar-label",children:[e,"/",s]})]})},I=({id:e,description:s="",title:t="",status:n,href:a,taskUpdateCallback:r,track:d,section:i,showDismissed:o})=>{const l=()=>a.includes("{siteUrl}")?a.replace("{siteUrl}",window.NewfoldRuntime.siteUrl):a,c=()=>a.includes("{siteUrl}")||a.includes(window.NewfoldRuntime.siteUrl)?"":"_blank",p=(e=!1,s="")=>(0,R.jsxs)("div",{className:"nfd-nextsteps-step-content nfd-flex nfd-flex-col nfd-justify-between",children:[e&&(0,R.jsx)("a",{href:e,target:s,children:(0,R.jsx)(Z,{as:"span",className:"nfd-nextsteps-step-title nfd-font-normal",children:t})}),!e&&(0,R.jsx)(Z,{as:"span",className:"nfd-nextsteps-step-title nfd-font-normal",children:t})]});return(0,R.jsxs)(R.Fragment,{children:["new"===n&&(0,R.jsx)("div",{className:"nfd-nextsteps-step-container",id:e,children:(0,R.jsxs)("div",{className:"nfd-nextsteps-step nfd-nextsteps-step-new nfd-flex nfd-flex-row nfd-justify-start nfd-items-center nfd-gap-4",children:[(0,R.jsx)("div",{className:"nfd-nextsteps-buttons nfd-flex nfd-flex-row nfd-gap-2 nfd-justify-end",children:(0,R.jsx)("button",{className:"nfd-nextsteps-button nfd-nextsteps-button-todo","data-nfd-click":"nextsteps_step_check","data-nfd-event-category":"nextsteps_step","data-nfd-event-key":e,onClick:s=>r(d,i,e,"done"),title:(0,_.__)("Mark Complete","wp-module-next-steps"),children:M})}),p(l(),c()),(0,R.jsxs)("div",{className:"nfd-nextsteps-buttons nfd-flex nfd-flex-row nfd-gap-4 nfd-justify-end nfd-ml-auto",children:[(0,R.jsx)("button",{className:"nfd-nextsteps-button nfd-nextsteps-button-dismiss","data-nfd-click":"nextsteps_step_dismiss","data-nfd-event-category":"nextsteps_step","data-nfd-event-key":e,onClick:s=>r(d,i,e,"dismissed"),title:(0,_.__)("Skip","wp-module-next-steps"),children:O}),(0,R.jsx)("a",{className:"nfd-nextsteps-button nfd-nextsteps-button-link","data-nfd-click":"nextsteps_step_link","data-nfd-event-category":"nextsteps_step","data-nfd-event-key":e,href:l(),target:c(),title:t,children:U})]})]})}),"done"===n&&(0,R.jsx)("div",{className:"nfd-nextsteps-step-container",id:e,children:(0,R.jsxs)("div",{className:"nfd-nextsteps-step nfd-nextsteps-step-done nfd-flex nfd-flex-row nfd-justify-start nfd-items-center nfd-gap-4",children:[(0,R.jsx)("div",{className:"nfd-nextsteps-buttons nfd-flex nfd-flex-row nfd-gap-2 nfd-justify-end",children:(0,R.jsx)("button",{className:"nfd-nextsteps-button nfd-nextsteps-button-redo","data-nfd-click":"nextsteps_step_redo","data-nfd-event-category":"nextsteps_step","data-nfd-event-key":e,onClick:s=>r(d,i,e,"new"),title:(0,_.__)("Restart","wp-module-next-steps"),children:S})}),p()]})}),"dismissed"===n&&o&&(0,R.jsx)("div",{className:"nfd-nextsteps-step-container",id:e,children:(0,R.jsxs)("div",{className:"nfd-nextsteps-step nfd-nextsteps-step-dismissed nfd-flex nfd-flex-row nfd-justify-start nfd-items-center nfd-gap-4",children:[(0,R.jsx)("div",{className:"nfd-nextsteps-buttons nfd-flex nfd-flex-row nfd-gap-2 nfd-justify-end",children:(0,R.jsx)("button",{className:"nfd-nextsteps-button nfd-nextsteps-button-redo","data-nfd-click":"nextsteps_step_redo","data-nfd-event-category":"nextsteps_step","data-nfd-event-key":e,onClick:s=>r(d,i,e,"new"),title:(0,_.__)("Unskip","wp-module-next-steps"),children:S})}),p(),(0,R.jsx)("div",{className:"nfd-nextsteps-buttons nfd-flex nfd-flex-row nfd-gap-4 nfd-justify-end nfd-ml-auto",children:(0,R.jsx)("button",{className:"nfd-nextsteps-button nfd-nextsteps-button-dismiss","data-nfd-click":"nextsteps_step_dismiss","data-nfd-event-category":"nextsteps_step","data-nfd-event-key":e,onClick:s=>r(d,i,e,"new"),title:(0,_.__)("Unskip","wp-module-next-steps"),children:E})})]})})]})},V=({section:e,index:s,taskUpdateCallback:t,track:n,showDismissed:a})=>{const r=0===s,d=e.tasks.filter((e=>"done"===e.status)).length,i=e.tasks.filter((e=>"dismissed"!==e.status)).length;return(0,R.jsxs)("details",{className:"nfd-section",open:r,children:[(0,R.jsxs)("summary",{className:"nfd-section-header",children:[(0,R.jsxs)(Z,{className:"nfd-section-title mb-0",as:"h3",children:[(0,R.jsxs)("span",{className:"nfd-section-header-icon nfd-header-icon",children:[(0,R.jsx)("span",{className:"nfd-section-header-icon-closed",children:L}),(0,R.jsx)("span",{className:"nfd-section-header-icon-opened",children:P})]}),e.label]}),i>0&&(0,R.jsx)(q,{completed:d,total:i})]}),(0,R.jsx)("div",{className:"nfd-section-steps",children:e.tasks.map((s=>(0,R.jsx)(I,{taskUpdateCallback:t,showDismissed:a,description:s.description,href:s.href,id:s.id,title:s.title,track:n,section:e.id,status:s.status,step:s},s.id)))})]})},F=({track:e,index:s,taskUpdateCallback:t,showDismissed:n})=>{const a=0===s;return(0,R.jsxs)("details",{className:"nfd-track",open:a,children:[(0,R.jsxs)("summary",{className:"nfd-track-header",children:[(0,R.jsx)(Z,{as:"h2",className:"nfd-track-title p-0",children:e.label}),(0,R.jsx)("span",{className:"nfd-track-header-icon nfd-header-icon",children:T})]}),(0,R.jsx)("div",{className:"nfd-track-sections",children:e.sections.map(((s,a)=>(0,R.jsx)(V,{taskUpdateCallback:t,index:a,section:s,track:e.id,showDismissed:n},s.id)))})]})},$=()=>{const[e,s]=(0,n.useState)(window.NewfoldNextSteps.plan),[t,a]=(0,n.useState)(!1),r=(t,n,a,r)=>{var d;d={plan:e.id,track:t,section:n,task:a,status:r},z()({url:window.NewfoldRuntime.restUrl+"newfold-next-steps/v1/steps/status",method:"POST",data:d}).then((e=>{console.log("Response from taskUpdateWrapper:",e),(e=>{window.NewfoldNextSteps=e,s(e.plan)})(e)})).catch((e=>{(e=>{console.error("Error updating step:",e)})(e)}))};return(0,R.jsxs)("div",{className:"nfd-nextsteps",id:"nfd-nextsteps",children:[e.tracks.length<1&&B,(0,R.jsx)("p",{className:"nfd-pb-4",children:e.description}),e.tracks.map(((e,s)=>(0,R.jsx)(F,{track:e,index:s,taskUpdateCallback:r,showDismissed:t},e.id))),(0,R.jsx)("div",{className:"nfd-nextsteps-filters nfd-flex nfd-flex-row nfd-gap-2 nfd-justify-center",children:(0,R.jsxs)(b,{className:"nfd-nextsteps-filter-button","data-nfd-click":"nextsteps_step_toggle","data-nfd-event-category":"nextsteps_toggle","data-nfd-event-key":"toggle",onClick:()=>{a(!t)},variant:"secondary",children:[O,t?(0,_.__)("Hide skipped tasks","wp-module-next-steps"):(0,_.__)("View skipped tasks","wp-module-next-steps")]})})]})},J=()=>{const e=p()("nfd-next-steps-app-container");return(0,R.jsx)(x,{className:e,children:(0,R.jsx)($,{})})},X=()=>(0,R.jsx)(l,{children:(0,R.jsx)(J,{})});s()((()=>{const e=document.getElementById("nfd-next-steps-app");null!==e&&void 0!==n.createRoot&&(0,n.createRoot)(e).render((0,R.jsx)(X,{}))}))})()})();